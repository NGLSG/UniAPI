<div align="center">
  <img src="icon.svg" alt="UniAPI Icon" width="200" height="200"> <!-- æ’å…¥å›¾æ ‡ -->
</div>


<div align="center">
  <h3>é€šç”¨ LLM API é›†æˆå·¥å…·åŒ…</h3>
  <p><i>"ä¸€ä¸ªæ ‡å‡†è°ƒç”¨æ‰€æœ‰"</i></p>
  <a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT"></a>
  <a href="https://en.cppreference.com/w/cpp/compiler_support"><img src="https://img.shields.io/badge/C++-20%2B-00599C?logo=c%2B%2B" alt="C++20"></a>
  <a href="https://developer.nvidia.com/cuda-toolkit"><img src="https://img.shields.io/badge/CUDA-Optional-76B900?logo=nvidia" alt="CUDA"></a>
  <a href="https://hub.docker.com/r/ryoshi541/uniapi"><img src="https://img.shields.io/badge/Docker-Available-2496ED?logo=docker" alt="Docker"></a>
</div>

---

## Star History

[![Star History Chart](https://api.star-history.com/svg?repos=NGLSG/UniAPI&type=Date)](https://www.star-history.com/#NGLSG/UniAPI&Date)

<a id="how-to-support-this-project"></a>

## ğŸŒŸ å¦‚ä½•æ”¯æŒæœ¬é¡¹ç›®

æˆ‘ä»¬è‡´åŠ›äºæŒç»­æ”¹è¿› UniAPI å¹¶æ·»åŠ æ–°åŠŸèƒ½ã€‚æ‚¨çš„æ”¯æŒå¯¹æˆ‘ä»¬é¡¹ç›®çš„æŒç»­å‘å±•è‡³å…³é‡è¦ã€‚ä»¥ä¸‹æ˜¯æ‚¨å¯ä»¥å¸®åŠ©çš„æ–¹å¼ï¼š

- **ç»™æˆ‘ä»¬ç‚¹ä¸ªæ˜Ÿ**  
  å¦‚æœæ‚¨è§‰å¾— UniAPI æœ‰ç”¨ï¼Œè¯·åœ¨ [GitHub](https://github.com/NGLSG/UniAPI) ä¸Šç»™æˆ‘ä»¬ç‚¹ä¸ªæ˜Ÿã€‚è¿™èƒ½å¸®åŠ©æˆ‘ä»¬è·å¾—æ›´å¤šå…³æ³¨å¹¶å¸å¼•æ›´å¤šè´¡çŒ®è€…ã€‚

- **å‚ä¸é¡¹ç›®è´¡çŒ®**  
  æˆ‘ä»¬æ¬¢è¿æ¥è‡ªç¤¾åŒºçš„è´¡çŒ®ï¼æ— è®ºæ˜¯ä¿®å¤æ¼æ´ã€æ·»åŠ æ–°åŠŸèƒ½è¿˜æ˜¯æ”¹è¿›æ–‡æ¡£ï¼Œæ¯ä¸€ä»½è´¡çŒ®éƒ½å¼¥è¶³çè´µã€‚å¼€å§‹è´¡çŒ®å¾ˆç®€å•ï¼Œåªéœ€è¦ fork ä»“åº“å¹¶æäº¤ä¸€ä¸ª
  pull request å³å¯ã€‚

- **åˆ†äº«æœ¬é¡¹ç›®**  
  æŠŠ UniAPI åˆ†äº«ç»™æ‚¨çš„æœ‹å‹ã€åŒäº‹ï¼Œæˆ–è€…åœ¨ç¤¾äº¤åª’ä½“ä¸Šå®£ä¼ ã€‚çŸ¥é“è¿™ä¸ªé¡¹ç›®çš„äººè¶Šå¤šè¶Šå¥½ï¼

- **æä¾›åé¦ˆ**  
  æ‚¨çš„åé¦ˆå¯¹æˆ‘ä»¬å¾ˆé‡è¦ã€‚å¦‚æœæ‚¨æœ‰ä»»ä½•å»ºè®®ã€æƒ³æ³•ï¼Œæˆ–è€…é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œè¯·éšæ—¶åœ¨ [GitHub](https://github.com/NGLSG/UniAPI/issues)
  ä¸Šæäº¤ issueã€‚

æ„Ÿè°¢æ‚¨çš„æ”¯æŒï¼è®©æˆ‘ä»¬æºæ‰‹è®© UniAPI æ›´ä¸Šä¸€å±‚æ¥¼ï¼

---

## ğŸ“‹ ç›®å½•

- [è¯­è¨€é€‰æ‹©](#language-selection)
- [ç‰¹æ€§](#features)
- [å¾…åŠäº‹é¡¹](#todo)
- [æœ¬åœ°æ¨¡å‹æ”¯æŒ](#local-model-support)
- [é…ç½®æ–‡ä»¶ç¼–è¾‘å·¥å…·](#config-file-editor)
- [å®‰è£…æ–¹æ³•](#installation-methods)
- [è‡ªå®šä¹‰é…ç½®è§„åˆ™è¯´æ˜](#custom-configuration-rule-explanation)
- [ç¤ºä¾‹é…ç½®](#example-configurations)
- [è®¸å¯åè®®](#license)

---

<a id="language-selection"></a>

## ğŸ“– è¯­è¨€é€‰æ‹©

- [æ—¥æœ¬èªç‰ˆ](ReadME_JP.md)
- [English Version](ReadME_EN.md)

---

<a id="features"></a>

## âœ¨ ç‰¹æ€§

- **è§£é”å¿«é€Ÿéƒ¨ç½²**ï¼šé»˜è®¤æ— éœ€èº«ä»½éªŒè¯ï¼Œæ”¯æŒåŠ¨æ€åŠ è½½æä¾›è€…ã€‚
- **é«˜æ€§èƒ½æ¨ç†**ï¼šæ”¯æŒ GPU åŠ é€Ÿï¼ˆCUDA å’Œ Vulkanï¼‰ï¼Œå¹¶å…¼å®¹ CPU æ¨ç†ã€‚
- **æœ¬åœ°æ¨¡å‹æ”¯æŒ**ï¼šç›´æ¥æ¨ç†æœ¬åœ°é‡åŒ– GGML æ¨¡å‹ï¼Œæ— éœ€é¢å¤–é…ç½®ã€‚
- **è·¨å¹³å°å…¼å®¹**ï¼šæ”¯æŒ Windowsã€Linux å’Œ macOSã€‚
- **çµæ´»é…ç½®**ï¼šé€šè¿‡ `Config.yaml` æ–‡ä»¶çµæ´»é…ç½® APIã€‚
- **é«˜åº¦æ‰©å±•æ€§**ï¼šä½¿ç”¨è§„åˆ™é€‚é…å‡ ä¹ä»»ä½•æ¥å£ã€‚

---

<a id="todo"></a>

## ğŸ”¨ å¾…åŠäº‹é¡¹

- [ ] é‰´æƒç³»ç»Ÿ
- [ ] ç”¨æˆ·ç³»ç»Ÿ
- [ ] è®¡è´¹ç³»ç»Ÿ

---

<a id="local-model-support"></a>

## ğŸ“¦ æœ¬åœ°æ¨¡å‹æ”¯æŒ

UniAPI æ”¯æŒä»¥ä¸‹æ¨ç†æ–¹å¼ï¼š

- **CUDA**ï¼šä½¿ç”¨ NVIDIA GPU è¿›è¡ŒåŠ é€Ÿæ¨ç†ã€‚
- **Vulkan**ï¼šè·¨å¹³å°çš„å›¾å½¢å’Œè®¡ç®— APIï¼Œé€‚ç”¨äºé NVIDIA GPUã€‚
- **CPU**ï¼šåœ¨æ²¡æœ‰ GPU çš„ç¯å¢ƒä¸­ç›´æ¥ä½¿ç”¨ CPU è¿›è¡Œæ¨ç†ã€‚

---

<a id="config-file-editor"></a>

## ğŸ› ï¸ é…ç½®æ–‡ä»¶ç¼–è¾‘å·¥å…·

å¦‚æœä½ ä¸æƒ³ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰‹åŠ¨ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨é…å¥—çš„ [ChatBot GUI é…ç½®å·¥å…·](https://github.com/NGLSG/ChatBot)
ã€‚é€šè¿‡è¯¥å·¥å…·ç¼–è¾‘é…ç½®åï¼Œç¨ä½œä¿®æ”¹å³å¯ç›´æ¥ç”¨äºæœ¬é¡¹ç›®ã€‚

---

<a id="installation-methods"></a>

## ğŸš€ å®‰è£…æ–¹æ³•

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨ Docker é•œåƒï¼ˆæœ€ç®€å•ï¼‰

```bash
# æ‹‰å–é¢„æ„å»ºçš„ Docker é•œåƒ
docker pull ryoshi541/uniapi:latest

# ä½¿ç”¨é»˜è®¤é…ç½®è¿è¡Œå®¹å™¨
docker run -d -p 8080:8080 ryoshi541/uniapi:latest

# ä½¿ç”¨è‡ªå®šä¹‰é…ç½®è¿è¡Œ
docker run -d -p 8080:8080 \
  -v /path/to/Config.yaml:/app/Config.yaml \
  ryoshi541/uniapi:latest
```

### æ–¹æ³•äºŒï¼šæ„å»ºè‡ªå·±çš„ Docker é•œåƒ

```bash
# å…‹éš†ä»“åº“
git clone --recursive https://github.com/NGLSG/UniAPI.git     
cd UniAPI

# æ„å»º Docker é•œåƒ
docker build -t uniapi:latest .

# è¿è¡Œå®¹å™¨
docker run -it --rm -p 8080:8080 uniapi:latest
```

### æ–¹æ³•ä¸‰ï¼šæœ¬åœ°ç¼–è¯‘å®‰è£…

#### 1. å…‹éš†ä»“åº“åŠå­æ¨¡å—

```bash
git clone --recursive https://github.com/NGLSG/UniAPI.git     
cd UniAPI
# å¦‚æœå­æ¨¡å—æœªæ‹‰å–ï¼š
git submodule update --init --recursive
```

#### 2. å®‰è£…ä¾èµ–é¡¹

```bash
# Ubuntu/Debian ç³»ç»Ÿ
sudo apt-get update
sudo apt-get install -y \
    git cmake build-essential \
    libvulkan-dev curl libcurl4-openssl-dev \
    libjsoncpp-dev uuid-dev libssl-dev zlib1g-dev
    
# å¯é€‰æ•°æ®åº“æ”¯æŒ
sudo apt-get install -y \
    libmysqlclient-dev \
    libsqlite3-dev \
    libhiredis-dev
```

#### 3. ç¼–è¯‘é¡¹ç›®

```bash
mkdir build && cd build
cmake ..
make -j4
```

#### 4. è¿è¡ŒæœåŠ¡å™¨

```bash
./bin/UniAPI 8080  # ç«¯å£å¯ä»¥æ›´æ”¹
```

---

<a id="custom-configuration-rule-explanation"></a>

## ğŸ“š è‡ªå®šä¹‰é…ç½®è§„åˆ™è¯´æ˜

UniAPI ä½¿ç”¨åŸºäºè§„åˆ™çš„é…ç½®æ¥é€‚é…ä¸åŒçš„ API æ¥å£ã€‚ä»¥ä¸‹æ˜¯é…ç½®å‚æ•°çš„è¯¦ç»†è¯´æ˜ï¼š

| å‚æ•°                  | è¯´æ˜                      |
|---------------------|-------------------------|
| `enable`            | æ˜¯å¦å¯ç”¨æ­¤æä¾›è€…                |
| `supportSystemRole` | æ˜¯å¦æ”¯æŒç³»ç»Ÿè§’è‰²                |
| `name`              | æä¾›è€…åç§°ï¼ˆç”¨äºæ ‡è¯†ï¼‰             |
| `model`             | é»˜è®¤æ¨¡å‹åç§°                  |
| `apiPath`           | API ç«¯ç‚¹ URLï¼ˆå¯åŒ…å«å˜é‡å ä½ç¬¦ï¼‰    |
| `apiKeyRole`        | API å¯†é’¥é…ç½®                |
| `headers`           | è‡ªå®šä¹‰ HTTP å¤´              |
| `roles`             | è§’è‰²æ˜ å°„ï¼ˆOpenAI æ ¼å¼ä¸æä¾›è€…æ ¼å¼ä¹‹é—´ï¼‰ |
| `extraMust`         | é¢å¤–çš„å¿…éœ€å‚æ•°                 |
| `promptRole`        | æç¤ºç»“æ„æ˜ å°„é…ç½®                |
| `params`            | è¦å‘é€çš„é™„åŠ å‚æ•°                |
| `responseRole`      | å“åº”æå–é…ç½®                  |
| `supportModels`     | æ”¯æŒçš„æ¨¡å‹åˆ—è¡¨                 |

---

<a id="example-configurations"></a>

## ğŸ“‹ ç¤ºä¾‹é…ç½®

### Gemini API é…ç½®ç¤ºä¾‹

```yaml
- enable: true
  supportSystemRole: false
  name: mGemini
  model: gemini-2.5-flash-preview-04-17
  apiPath: https://generativelanguage.googleapis.com/v1beta/models/${MODEL}:streamGenerateContent?key=${API_KEY}
  apiKeyRole:
    key: ~
    role: URL
    header: "Authorization: Bearer "
  headers: ~
  vars: ~
  roles:
    system: system
    user: user
    assistant: model
  extraMust:
    - suffix: topK
      path: generationConfig
      content: ${TOPK}
      isStr: false
    - suffix: topP
      path: generationConfig
      content: ${TOPP}
      isStr: false
    - suffix: temperature
      path: generationConfig
      content: ${TEMP}
      isStr: false
    - suffix: presencePenalty
      path: generationConfig
      content: ${PRES}
      isStr: false
    - suffix: frequencyPenalty
      path: generationConfig
      content: ${FREQ}
      isStr: false
  promptRole:
    role:
      suffix: contents
      path: role
      content: content
      isStr: false
    prompt:
      suffix: contents
      path: parts/0/text
      content: content
      isStr: false
  supportModels:
    - gemini-2.5-flash-preview-04-17
  params: [ ]
  responseRole:
    suffix: ""
    content: candidates/content/parts/text
    callback: RESPONSE
    stopFlag: ""
  author: Ryoshi
  version: 1.0
  description: Gemini è‡ªå®šä¹‰å®ç°
```

---

<a id="license"></a>

## ğŸ“œ è®¸å¯åè®®

MIT - å…è´¹ç”¨äºå•†ä¸šå’Œä¸ªäººç”¨é€”ã€‚è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚